# Product Features List: SigLab 完整功能清单

---

## 1. 用户系统 (User System)

### 1.1 注册与登录
* 邮箱 + 密码注册/登录
* Google OAuth 登录
* GitHub OAuth 登录
* 密码重置（邮件验证）
* 登录状态持久化（JWT Token + Refresh Token）

### 1.2 用户资料
* 个人信息编辑（昵称、头像、简介）
* 账户等级展示
* 勋章墙展示
* 偏好设置（默认主题、语言、时区）

### 1.3 用户仪表盘 (Dashboard)
* 我的策略概览（总数、最近编辑、表现最佳）
* 回测历史摘要
* Forward Test 实时状态
* 学习进度卡片
* 系统通知入口

---

## 2. 策略生成模块 (Strategy Builder — Core)

### 2.1 可视化拖拽编程 (Visual Flow)
* **画布基础能力**:
    * 拖拽节点到画布
    * 节点之间连线（数据流方向）
    * 节点参数配置面板
    * 画布缩放/平移/自适应
    * 撤销/重做
    * 小地图导航
* **节点类型**:
    * **数据源节点**: 选择品种 (Symbol) 和时间周期 (Timeframe)
    * **指标节点**: SMA, EMA, MACD, RSI, Bollinger Bands, ATR, Stochastic, ADX 等
    * **条件判断节点**: 大于/小于/等于/交叉向上/交叉向下/区间内
    * **逻辑运算节点**: AND / OR / NOT
    * **交易动作节点**: 买入 (Market/Limit) / 卖出 (Market/Limit) / 平仓
    * **仓位管理节点**: 固定手数 / 资金百分比 / Kelly 公式
    * **风控节点**: 止损 (固定点数/百分比/ATR倍数) / 止盈 / 移动止损 / 每日最大亏损 / 最大持仓数量
    * **时间过滤节点**: 交易时段限制（如仅在伦敦/纽约时段交易）
    * **事件触发节点**: OnData (每根K线) / OnOrderEvent (订单状态变更)

### 2.2 AI 自然语言策略助手
* 对话式策略生成："当 BTC 的 RSI 低于 30 时买入，高于 70 时卖出，止损 5%"
* 策略修改："把止损改为 3%"、"加一个 EMA 50 的趋势过滤"
* 策略解释：AI 用自然语言解释当前画布上的策略逻辑
* 策略优化建议：基于回测结果给出参数调整建议
* 流式输出（打字机效果）

### 2.3 策略管理
* 策略创建/编辑/复制/删除
* 策略重命名与描述编辑
* 策略版本历史（每次保存自动记录版本）
* 版本对比与回退
* 策略标签分类（自定义标签）
* 策略导入/导出（JSON 格式）
* 策略公开/私有切换

---

## 3. 回测与分析模块 (Backtest & Analysis)

### 3.1 回测配置
* 时间范围选择：6个月 / 1年 / 2年 / 3年 / 5年 / 自定义
* 初始资金设定
* 杠杆倍数选择
* 手续费模型：固定手续费 / 百分比手续费 / 自定义
* 滑点模型：固定滑点 / 比例滑点 / 无滑点
* 数据颗粒度：M1 (1分钟) / M5 / M15 / H1 / D1

### 3.2 回测报告中心
* **权益曲线图 (Equity Curve)**:
    * 基于 TradingView Lightweight Charts
    * 支持缩放、拖拽、十字线
    * 对比基准线 (Benchmark: Buy & Hold)
* **关键统计指标面板**:
    * 总收益率
    * 年化收益率 (CAGR)
    * Sharpe Ratio (夏普比率)
    * Sortino Ratio
    * 最大回撤 (Max Drawdown) 及持续天数
    * 胜率 (Win Rate)
    * 盈亏比 (Risk-Reward Ratio)
    * 利润因子 (Profit Factor)
    * 总交易次数
    * 平均持仓时间
* **回撤分析图 (Drawdown Chart)**: 展示历史回撤深度与持续时间分布
* **月度收益热力图**: 按月/年展示盈亏分布，颜色深浅表示幅度
* **逐笔交易列表 (Trade List)**:
    * 时间、方向、品种、开仓价、平仓价、盈亏金额、盈亏百分比、持仓时间
    * 支持排序、筛选、搜索
* **K线图交易标注**: 在 K线图上直接标注每笔买入/卖出点位
* **报告导出**: 支持 JSON / CSV / PDF 导出

### 3.3 AI 策略诊断
* 自动分析回测结果，识别策略弱点
* 过拟合风险评估
* 参数敏感性分析
* 市场环境依赖度分析
* 可视化"策略体检报告"（雷达图/评分卡）
* 一键应用 AI 优化建议

---

## 4. 实时观测站 (Forward Test)

### 4.1 模拟实盘部署
* 一键将回测策略部署到实时行情流
* 连接 WebSocket 实时行情（Crypto + CFD）
* Forward Test 运行时间限制（如最长 30 天）
* 启动/暂停/停止控制

### 4.2 实时仪表盘
* 实时权益曲线
* 当前持仓状态
* 未实现盈亏
* 信号执行日志（每笔交易实时记录）

### 4.3 信号通知
* 浏览器推送通知（策略触发买卖信号时）
* 邮件通知（可选）
* Webhook 导出（Telegram / Discord / 自定义 URL）

---

## 5. 市场数据中心 (Market Data)

### 5.1 品种列表
* 支持品种浏览（分类：Crypto / 外汇 / 贵金属 / 能源 / 指数）
* 品种搜索
* 品种收藏/自选列表

### 5.2 K线图表
* 多时间周期切换（M1 / M5 / M15 / H1 / H4 / D1 / W1）
* 常用技术指标叠加
* 绘图工具（趋势线、水平线、斐波那契）

### 5.3 市场日历 (可选/远期)
* 重大经济事件标注（非农、CPI、利率决议等）
* 事件对行情影响的历史回溯

---

## 6. 学习中心 (Academy)

### 6.1 互动教程
* 手把手引导式教程（步骤提示 + 画布操作高亮）
* **入门课程**: 认识策略构建基础、第一个均线交叉策略
* **进阶课程**: 多指标组合、风控与仓位管理
* **高级课程**: 策略优化、避免过拟合、跨市场策略
* 学习进度追踪
* 课程完成徽章

### 6.2 策略模板库
* 官方提供的经典策略参考（附带详细原理说明）：
    * 双均线交叉 (SMA/EMA Crossover)
    * RSI 超买超卖
    * 布林带突破/回归
    * MACD 动量策略
    * 海龟交易法则
    * 网格交易策略
    * 均值回归策略
    * ATR 波动率突破
* 模板一键加载到画布
* 模板回测预览

---

## 7. 社区与社交 (Community)

### 7.1 策略广场
* 浏览公开策略（按热度/收益/Sharpe 排序）
* 策略搜索与筛选
* 策略卡片预览（包含关键指标摘要）

### 7.2 社交互动
* 策略点赞/收藏
* 策略评论
* 策略 Fork（复制到自己的画布修改）
* 关注其他用户

### 7.3 排行榜
* 周/月策略收益排行
* Sharpe 排行
* 最低回撤排行

---

## 8. 通知系统 (Notifications)

### 8.1 应用内通知
* 回测完成通知
* Forward Test 信号触发通知
* 策略被点赞/收藏/Fork 通知
* 勋章获得通知
* 系统公告

### 8.2 外部通知 (可选)
* 邮件通知
* 浏览器推送 (Web Push)
* Webhook 推送 (Telegram / Discord)

---

## 9. 系统管理 (Admin — 内部)

### 9.1 用户管理
* 用户列表/搜索/详情
* 用户封禁/解封

### 9.2 内容管理
* 策略模板管理（上架/下架/编辑）
* 教程内容管理
* 系统公告发布

### 9.3 数据监控
* 行情数据质量巡检
* 系统运行状态监控
* 回测任务队列监控
